<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hot Catalog — OtakuFigures</title>
<meta name="description" content="Hot, neon-styled catalog with search, filters, and lazy loading." />
<link rel="icon" href="./assets/placeholder.svg">

<style>
  :root{
    --bg:#0b0f16;
    --text:#e8f0ff;
    --muted:#95a1b8;
    --brand:#00e5ff;
    --brand2:#7c3aed;
    --card: rgba(255,255,255,0.04);
    --card-border: rgba(255,255,255,0.10);
    --radius: 14px;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
    --img-h: 220px;
    --card-w: 280px;
    --bg-url: url('');
    --img-fit: contain;          /* 固定为完整显示 */
  }

  body{
    margin:0; color:var(--text); background:var(--bg);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "PingFang SC", "Microsoft YaHei", "Noto Sans CJK SC", Arial, sans-serif;
    min-height:100dvh;
  }
  .bg{
    position:fixed; inset:0; z-index:-1; pointer-events:none; overflow:hidden;
    background:
      var(--bg-url) center/contain no-repeat fixed,
      radial-gradient(1200px 600px at 50% -220px, rgba(14,165,233,.18), transparent 60%),
      radial-gradient(closest-corner at 50% 50%, rgba(124,58,237,.10), rgba(0,0,0,0) 70%),
      var(--bg);
  }
  .disc, .disc2{
    position:absolute; inset:-30%;
    background: conic-gradient(from 0deg,
      rgba(0,229,255,.10) 0 28deg, transparent 28deg 62deg,
      rgba(124,58,237,.10) 62deg 92deg, transparent 92deg 150deg,
      rgba(0,229,255,.10) 150deg 178deg, transparent 178deg 360deg);
    filter: blur(56px) saturate(1.25);
    mix-blend-mode: screen;
    animation: spin 60s linear infinite;
  }
  .disc2{ inset:-24%; filter: blur(42px) saturate(1.35); animation: spin 90s linear infinite reverse; opacity:.7; }
  @keyframes spin { to { transform: rotate(360deg) } }

  .wrap{ max-width:1200px; margin:0 auto; padding:16px; }

  /* 顶部：只有品牌 + 导航（吸顶） */
  header.sticky{ position: sticky; top: 0; z-index: 50; }
  header .bar{
    display:flex; align-items:center; justify-content:space-between;
    gap:16px; padding:12px 16px;
    backdrop-filter: blur(10px);
    background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
    border: 1px solid var(--card-border); border-radius: var(--radius);
    box-shadow: var(--shadow);
  }
  .brand{ font-weight:800; letter-spacing:.2px; display:flex; align-items:center; gap:8px }
  .dot{ width:10px; height:10px; display:inline-block; border-radius:50%;
    background: radial-gradient(circle at 30% 30%, #fff, var(--brand)); box-shadow:0 0 14px var(--brand) }

  .links{
    display:flex; gap:24px; align-items:center;
    white-space:nowrap;
  }
  .links a{
    color:var(--text); text-decoration:none; padding:6px 12px; border-radius:999px;
    border:1px solid transparent; transition:.15s border-color,.15s background;
  }
  .links a:hover{
    border-color: rgba(255,255,255,.18);
    background: rgba(255,255,255,.06);
  }
  .links a.active{
    border-color: rgba(0,229,255,.45);
    background: rgba(0,229,255,.10);
  }

  /* 工具栏：chips + 搜索 + 排序 */
  .toolbar{
    margin-top:12px;
    display:flex; align-items:center; gap:12px; flex-wrap:wrap;
    padding:10px 12px;
    backdrop-filter: blur(8px);
    background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.015));
    border:1px solid var(--card-border); border-radius: var(--radius);
  }
  .chips{ display:flex; gap:12px; align-items:center; }
  .chip{
    border:1px solid var(--card-border); padding:8px 12px; border-radius:999px; color:var(--text);
    background:rgba(255,255,255,.04); cursor:pointer; user-select:none;
  }
  .chip.active{ border-color:rgba(0,229,255,.45); box-shadow:0 0 0 2px rgba(0,229,255,.15) inset; }

  .spacer{ flex:1 }

  .input{
    display:flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px;
    border:1px solid var(--card-border); background:rgba(4,10,20,.65); color:var(--text);
  }
  .input input{ all:unset; width:220px; }
  .select{
    padding:8px 12px; border-radius:999px; border:1px solid var(--card-border);
    background:rgba(4,10,20,.65); color:var(--text);
  }

  .grid{
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(var(--card-w), 1fr));
    gap:18px; margin-top:14px;
  }

  .card{
    position:relative; border-radius:var(--radius);
    background:var(--card); border:1px solid var(--card-border);
    box-shadow: var(--shadow);
    overflow:hidden;
    transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
  }
  .card:hover{ transform: translateY(-4px); border-color: rgba(0,229,255,.3); box-shadow: 0 18px 40px rgba(0,0,0,.45); }

  .thumb{
    height: var(--img-h);
    display:flex; align-items:center; justify-content:center;
    background:linear-gradient(180deg, rgba(0,229,255,.06), rgba(124,58,237,.06));
    overflow:hidden;
  }
  .thumb img{
    width:100%;
    height:100%;
    object-fit: var(--img-fit);  /* 固定为 contain */
    display:block;
  }

  .meta{
    padding:10px 12px;
    display:flex; align-items:center; justify-content:space-between; gap:8px;
    background: rgba(0,0,0,.24);
    border-top: 1px solid var(--card-border);
  }
  .price{
    font-weight:800; font-size:18px; white-space:nowrap;
    color:#fff; text-shadow:0 0 10px rgba(0,229,255,.45);
  }
  .pill{
    font-size:12px; padding:4px 8px; border-radius:999px;
    border:1px solid rgba(255,255,255,.18);
    background: rgba(255,255,255,.06);
    color: var(--muted);
  }

  .skeleton{
    background: linear-gradient(90deg, rgba(255,255,255,.06), rgba(255,255,255,.12), rgba(255,255,255,.06));
    background-size: 200% 100%;
    animation: shimmer 1.1s linear infinite;
  }
  @keyframes shimmer { to { background-position: -200% 0 } }

  footer .note{ color:var(--muted); font-size:14px; text-align:center; padding:16px 0 28px; }

  @media (max-width: 640px){
    .input input{ width:150px; }
    :root{ --img-h: 200px; }
  }
</style>
</head>
<body>
  <div class="bg" aria-hidden="true">
    <div class="disc"></div>
    <div class="disc2"></div>
  </div>

  <div class="wrap">
    <!-- 顶部只放导航 -->
    <header class="sticky">
      <div class="bar">
        <div class="brand"><span class="dot"></span> OtakuFigures</div>
        <nav class="links" aria-label="Primary">
          <a href="./index.html" class="active">Home</a>
          <a href="./catalog.html">Catalog</a>
          <a href="./about.html">About</a>
          <a href="./shipping.html">Shipping</a>
          <a href="./faq.html">FAQ</a>
          <a href="./contact.html">Contact</a>
          <!-- ✅ 只新增了 Cart，样式与统一版一致 -->
          <a href="./cart.html" style="border:1px solid rgba(0,229,255,.45); padding:6px 12px; border-radius:999px; background:rgba(0,229,255,.10)">Cart</a>
        </nav>
      </div>

      <!-- 工具栏：chips + 搜索 + 排序 -->
      <div class="toolbar">
        <div class="chips" aria-label="Filters">
          <div class="chip active" data-filter="all">All</div>
          <div class="chip" data-filter="jjk">JJK</div>
          <div class="chip" data-filter="scale">Scale</div>
          <div class="chip" data-filter="nendoroid">Nendoroid</div>
          <div class="chip" data-filter="preorders">Preorders</div>
        </div>

        <div class="spacer"></div>

        <label class="input">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M21 21l-4.2-4.2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2"/>
          </svg>
          <input id="q" placeholder="Search figures…" />
        </label>
        <select id="sort" class="select">
          <option value="popular">Sort: Popular</option>
          <option value="low">Sort: Price Low → High</option>
          <option value="high">Sort: Price High → Low</option>
          <option value="new">Sort: Newest</option>
        </select>
      </div>
    </header>

    <main style="margin-top:14px">
      <div id="grid" class="grid"></div>
    </main>

    <footer>
      <div class="note">© <span id="y"></span> OtakuFigures — Hot catalog template. Replace images & copy.</div>
    </footer>
  </div>

<script>
const DATA = [
  { id:'JJK-001', name:'Gojo — Infinity Pose 1/7',   price:0,  img:'https://thumbs.dreamstime.com/b/ai-generated-illustration-blue-robotic-futuristic-toy-ai-generated-illustration-blue-robotic-futuristic-toy-302764435.jpg', collection:'jjk',       date:'2024-12-01', popularity:98 },
  { id:'JJK-002', name:'Itadori — Black Flash 1/8',  price:0,  img:'https://tse3.mm.bing.net/th/id/OIP.kRiKL3-cS0QSmrGRGZYsOgAAAA?w=383&h=626&rs=1&pid=ImgDetMain&o=7&rm=3', collection:'jjk',       date:'2025-03-22', popularity:92 },
  { id:'JJK-003', name:'Fushiguro — Ten Shadows 1/7',price:0,  img:'https://img.freepik.com/premium-photo/close-up-robot-with-glowing-eyes-standing-room-generative-ai_900396-60532.jpg', collection:'jjk',       date:'2025-05-15', popularity:86 },
  { id:'FIG-101', name:'Akari — Summer Dress 1/7',   price:0,  img:'https://ueeshop.ly200-cdn.com/u_file/UPAX/UPAX554/2307/11/products/f2c79e6522.jpg?x-oss-process=image/format,webp/quality,q_100/resize,m_lfit,h_800,w_800', collection:'scale',     date:'2025-01-09', popularity:88 },
  { id:'FIG-102', name:'Kairo — Battle Pose 1/6',    price:0,  img:'./assets/placeholder.svg', collection:'scale',     date:'2024-11-02', popularity:84 },
  { id:'NEN-201', name:'Nendo — Fox Mage',           price:0,  img:'./assets/placeholder.svg', collection:'nendoroid', date:'2025-02-14', popularity:90 },
  { id:'NEN-202', name:'Nendo — Snow Spirit',        price:0,  img:'./assets/placeholder.svg', collection:'nendoroid', date:'2025-08-08', popularity:87 },
  { id:'PRE-301', name:'Cyber Idol Limited',         price:0,  img:'./assets/placeholder.svg', collection:'preorders', date:'2025-07-01', popularity:91 }
];

const $ = s => document.querySelector(s);
const $$ = s => Array.from(document.querySelectorAll(s));
const fmt = n => new Intl.NumberFormat(undefined, { style:'currency', currency:'USD', minimumFractionDigits:0 }).format(n);

const grid = $('#grid');

function cardSkeleton(){
  const el = document.createElement('div');
  el.className = 'card';
  el.innerHTML = `
    <div class="thumb skeleton" style="height:var(--img-h)"></div>
    <div class="meta skeleton" style="height:44px"></div>
  `;
  return el;
}
function card(item){
  const el = document.createElement('div');
  el.className = 'card';
  el.innerHTML = `
    <div class="thumb"><img loading="lazy" src="${item.img}" alt="${item.name}"></div>
    <div class="meta">
      <span class="price">${fmt(item.price)}</span>
      <span class="pill">${item.collection}</span>
    </div>
  `;
  return el;
}

let state = { filter:'all', q:'', sort:'popular' };

function applyState(){
  let list = DATA.filter(x => state.filter==='all' || x.collection===state.filter);
  if(state.q){
    const k = state.q.toLowerCase();
    list = list.filter(x => (x.name||'').toLowerCase().includes(k) || (x.id||'').toLowerCase().includes(k));
  }
  if(state.sort==='low') list.sort((a,b)=> a.price - b.price);
  else if(state.sort==='high') list.sort((a,b)=> b.price - a.price);
  else if(state.sort==='new') list.sort((a,b)=> new Date(b.date) - new Date(a.date));
  else list.sort((a,b)=> b.popularity - a.popularity);

  grid.innerHTML = '';
  const skeletons = Array.from({length: Math.max(4, list.length)}, cardSkeleton);
  skeletons.forEach(s => grid.appendChild(s));
  requestAnimationFrame(() => {
    setTimeout(() => {
      grid.innerHTML = '';
      list.forEach(item => grid.appendChild(card(item)));
    }, 150);
  });
}

$$('.chip').forEach(ch => ch.addEventListener('click', ()=>{
  $$('.chip').forEach(x => x.classList.remove('active'));
  ch.classList.add('active');
  state.filter = ch.dataset.filter;
  applyState();
}));
$('#q').addEventListener('input', e=>{ state.q = e.target.value.trim(); applyState(); });
$('#sort').addEventListener('change', e=>{ state.sort = e.target.value; applyState(); });

applyState();
$('#y').textContent = new Date().getFullYear();

/* 可选：?bg=... 设背景图（完整显示） */
(function () {
  var params = new URLSearchParams(location.search);
  var bgUrl = params.get('bg');
  if (bgUrl) document.documentElement.style.setProperty('--bg-url', "url('" + bgUrl.trim() + "')");
})();
</script>
<script>
  (function () {
    // 取当前文件名（空则视为 index.html）
    var current = location.pathname.split('/').pop() || 'index.html';
  
    // 选中导航里的所有链接
    document.querySelectorAll('nav.links a').forEach(function (a) {
      // 归一化 href（去掉开头的 ./）
      var href = (a.getAttribute('href') || '').replace('./', '');
      if (!href) return;
  
      // 命中当前页就加 active，其它移除
      if (current === href) {
        a.classList.add('active');
      } else {
        a.classList.remove('active');
      }
    });
  })();
  </script>
  
</body>
</html>
